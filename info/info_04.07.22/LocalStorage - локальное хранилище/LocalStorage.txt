2 курс 95 урок

https://tproger.ru/articles/localstorage/

По простому это объект который встроен в браузер и он может хранить различные данные.

Если говорить языком JavaScript, то localStorage это свойство глобального объекта браузера (window). 
К нему можно обращаться как window.localStorage или просто localStorage.
Еще стоит сказать, что у браузера существует клон localStorage, который называется sessionStorage. 
Их разница только в том, что последний хранит данные только для одной вкладки (сессии) и просто очистит свое пространство
как только мы закроем вкладку.

Давайте посмотрим на него вживую. Например, в Google Chrome вам надо открыть DevTools (F12), перейти на вкладку «Application» 
и на левой панели вы увидите localStorage для данного домена и все значения, что оно содержит. Нужно его размернуть и там 
информация.

Кстати, вы должны знать как localStorage работает с доменами. Для каждого домена ваш браузер создает свой объект localStorage,
и редактировать или просматривать его можно только на этом домене. Например, с домена mydomain-1.com нельзя получить доступ
к localStorage вашего mydomain-2.com. Тоесть этот объект существует только внутри одного домена, и имеет пямять около 5 мб.

Зачем мне нужен localStorage?
LocalStorage нужен только для одного — хранить определенные данные между сессиями пользователя. 
Можно придумать тысячу и одну вещь, которую можно хранить в локальном хранилище браузера. 
Например, браузерные игры, которые используют его как сохраненку, или записать момент, на котором пользователь 
остановился при просмотре видео, различные данные для форм после заполнения юзером сохраняются, 
юзер настроил какие то значения под себя и т.д.




Для работы с localStorage нужно знат 4 команды:


//Добавляем или изменяем значение:
Первый атрибут - название ключа, второй - значение.

localStorage.setItem('number', 'six'); //теперь у вас в localStorage хранится ключ "number" cо значением "six"


//Получение данных из хранилища. Выводим его в консоль:
var localValue = localStorage.getItem('number');
console.log(localValue); //"six"


//удаляем:
localStorage.removeItem("number");


//очищаем все хранилище
localStorage.clear()


То же самое, только с квадратными скобками:

localStorage["Ключ"] = "Значение" //установка значения
localStorage["Ключ"] // Получение значения
delete localStorage["Ключ"] // Удаление значения




Реальный пример:
имею форму в ней инпут и чекбокс:
юзер поставил чекбокс и что то заполнил в инпут, и чтобы сохранить эти значения в локалсторедж
делаю следующее:

получаю элементы:

const checkbox =  query......- сам чекбокс
      form =   --- сама форма 

навешиваю обработчики:

checkbox.addEventListener('change',()=> {  -- change - отслеживает изменение состояния
    localStorage.setItem('isCheck', true);  -- обращаюсь к хранилищу и устанавливаю значение
})
таким образом при клике на голочку в стораж запишется ключ-'isCheck',со значение -true

И теперь реализую функционал когда юзер заходит на страницу, у него идет автоматом проверка LocalStorage
и если в нем есть такой ключ, то чекбок переставляю в позицию - отмечен галочкой (checked):

if(localStorage.getItem('isCheck')) {
    checkbox.checked = true;
}
если в хранилище будет получен ключ 'isCheck' то болучаем true (если его там нет то получим null - а это есть false),
так вот если trut и условие выполнено, то обращаюсь к чекбоксу и спользую свойство checked = true. Тоесть система
самостоятельно ставит галочку чекбоксу.