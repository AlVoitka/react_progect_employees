2 курс урок 38

В написании скрипта для табов есть 3 глвавные задачи:

1. Функция скрывающая ненужные ( неактивные) табы.
2. Функция для показа активного таба.
3. Назначение обработчика событий на меню навигации для табов.

///////////////Получение элементов/////////////////////////

Но для начала нужно  получить элементы и записать их в переменные с которыми будет идти взаимодействие:

1- получаю кнопки или вкладки по которым буду кликать для переключения табов. В моём случае это картинка

const tabs = document.querySelectorAll('.benefits__img') - получил элемент по классу

2 - получаю контент который будет появлятся 
вот у меня блок с контентом:
<div class="benefits__tabcontent">
    <img src="/src/img/tabs_icon/truck.svg" alt="friendly cars">
    <h4 >Transparency of logistics calculation</h4>
</div>

вот я его получаю:

const tabs = document.querySelectorAll('.benefits__img'),
      tabsContent =document.querySelectorAll('.benefits__tabcontent')   --- вот получаю блок с контентом

3 - нужно получить родителя который содержит в себе все кнопки переключения табов 

const tabs = document.querySelectorAll('.benefits__img'),
      tabsContent = document.querySelectorAll('.benefits__tabcontent'),
      tabsParents = document.querySelector('.benefits__box');    ----------  



//////////////// Функции /////////////////

1. Первая функция по скрыванию неактивного контента

function hideTabContent() {
    tabsContent.forEach(item=>{
        item.style.display = 'none';
    })
}

обращаюсь к tabsContent ( в переменной записаны все элементы с классом '.benefits__tabcontent') и так как там не один а
 несколько элементов (блоков с контентом), то нужно их перебрать и лучше это сделать
методом .forEach. Я говорю коду что внутри будет каждый отдельный контент и назову его к примеру item=> и говорю что в стилях нужно 
изменить свойство на none .display = 'none'

И еще нужно паработать с активностью таба: когда скрываю неактивные табы, чтобы класс активности у них убирался. 
У меня на одном из элементов есть клас активности - benefits__img-active, и мне нужно его удалить

tabs.forEach(item =>{
    item.classList.remove('benefits__img-active');
});
Тут я беру переменную tabs( в ней записаны все элемента с классом '.benefits__img' ) и назначаю свойство classList которое вернет 
мне все классы на элементе. методом .remove('benefits__img-active') я удалю класс 'benefits__img-active' у элемента 
( тут без точки тк сам само свойство подразумевает работу с классами)



2. Вторая функция которая покажет выбранный контент и назначит класс активности элементу:

function showTabContent(i) {
    tabsContent[i].style.display = 'block';
}
Обращаюсь к tabsContent и нужно передать как аргумент номер по порядку  из масива (те какой именно контент выводить). 
И в стилях задаю значение .display = 'block'

И добавлю класс активности выбранному элементу:
tabs[i].classList.add('benefits__img-active');
Тут я беру переменную tabs[i] с конкретным элементом по порядку ( в ней записаны все элемента с классом '.benefits__img' ) 
 и назначаю свойство classList которое вернет 
мне все классы на элементе. методом .add('benefits__img-active') добвыит класс 'benefits__img-active' у элемента 
( тут без точки тк сам само свойство подразумевает работу с классами)

--------Далее вызываю эти функции и в функцию showTabContent передею как аргумент i значение 0, тоесь первый элемент из массива =первый блок 
с контентом.  

hideTabContent();
showTabContent(0);


/////////////////// Назначение обработчика событий //////////////////////

1. Навешиваю обработчик события на клик на элементы что в переменной tabsParents:
как аргумент передаю объект события - event

tabsParents.addEventListener('click', (event) => {

         const target = event.target; - это частая практика чтобы сократить код

    делаю проверку на сам таргет (элемент в который кликнул пользователь) и родителький элемент( вложенность) при помощи .contains

          if (target && target.classList.contains('benefits__img')) {}

    далее я переберу все кнопки для нажатия (табы) перебором котрые лежат в переменной tabs
    и буду стравнивать так: если элемент который находится в псевдомассиве tabs совпадет с тем элементом по которому 
    кликнул пользователь, то берем этот элемент и показываем на странице:
    в колбэк функцию нужно передать 2 аргумента: 
    1- item - каждый таб который буду переберать
    2- i - номер элемента по порядку

    if (target && target.classList.contains('benefits__img')) {
        tabs.forEach((item, i) => {}
    }
    
     и прписываю условие на сровнение: если таргет ( тот элмент в который кликнули) 
     будет совпадать с item ( тот элемент который сейчас перебераем в цикле forEach), 
     то буду вызывать 2 функции по скрытию и показу слайдов. И в функцию showTabContent(), 
     передаю i - это номер того элемента который в этом условии совпал.

    if (target == item) {
        hideTabContent();
        showTabContent(i);
    }

});
